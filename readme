 SPRING MVC ROUTE PLANNER
 
 localhost:8080/routeplanner/
 localhost:8080/routeplanner/login
  
 --------------------------------------
 Techniques:
 
 - session var
 
 - use of model attribute (eg User, list) ==> ${}
   map.addAttribute("testModelMap", "model map property");
   <p th:text="'Test model app property: ' + ${testModelMap}" />
    
 - direct usage from internationalization file
   <h1 th:text = "#{international.text}"></h1>
 
 - form object binding with thyme
   mv.addObject("statement", statement);
   <textarea rows="4" cols="50" th:field="*{summary}">Summary</textarea>
 
 - session variable:
   session ==> ${session.} 
   request.getSession().setAttribute("xxx",zzz);
 
 - get current dir
   String currLocation = System.getProperty("user.dir");
 
 - Get props in bespoke location:
   ResourceBundle rb = ResourceBundle.getBundle("config.sysprops"); [folder + file prefix]
   String value = rb.getString("database.name");
 
 - drop downs populated from enum and result read into form object as enum property
   see PassengerType to populate with translated text in java - is there a better way of doing this?
  
 - controller read from session:
   Incident incidentX = (Incident)session.getAttribute("mockInc");
 
 - include fragments:
   https://www.thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html#rendering-template-fragments
 
 - thymeleaf
   https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#introducing-thymeleaf
 
 - mix file var and session / model: 
   th:text="'The name of the user is ' + ${user.name}"
 
 - conditionals: (see also 4.10)
   <div th:if="${user.isAdmin()} == false"> 
   <div th:if="${user.isAdmin() == false}">
   <div th:if="${!user.isAdmin() and !user.isMember()}" th:text = "#{rp.login.title}"></div>
 
 - hibernate JPA: using abstract superclass for subclasses which are annotated with @Entity
   https://stackoverflow.com/questions/3827494/inherited-abstract-class-with-jpa-hibernate
 
 - useful spring boot properties:
   https://docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/htmlsingle/#common-application-properties
 
 --------------------------------------
 
 
 WAS view basket:
 
 <div th:object="${ticket.passengerType}">
			<label th:text = "#{rp.basket.passenger.type}"></label>
		    <select id="passTypes" name="passTypes">
		    <!--<select th:field="*{passengerType}">-->
		        <option th:each="pt : ${passengerTypeList}"
		                th:value="${pt}"
		                th:text="${pt.code}"></option>
		    </select>
		</div> 
 
 
 --------------------------------------
 
 - OK fix button
 - OK refactor existing with new model
 - OK improve travelInfoService
 - OK investigate and refactor the model to use composition if necessary.................
 - OK database + load sql file for non-admin / membership use
   --> OK save initial basket dummy
   --> OK save actual initial basket 
   --> OK use user1 from data.sql
   --> OK refactor Rule for simplicity! remove relevantItems
   --> OK research Date and hibernate [resorting to LocalDateTime + LocalDate]
   --> OK decision on usage of DataModel
   --> OK add hibernate: PassengerType ==> Rule ==> RouteQuery ==> Ticket ==> inehritance and hibernate ==> Order ==> purchase ==> PaymentInfo
   --> OK ddl for ContactDetails, Person
   --> OK complete ddl for ticket, order and purchase
   --> OK complete ddl for basket   
   --> OK complete repositories
    --> OK add in the role level conversions
       --> OK decouple db from enum
       --> OK apply RoleLevel in User with actual roles and the static UserLevel methods, or convert direct in thyme if possible
       --> OK sort out navbar logic to avoid malformation for different roles 
   --> OK insert passenger types as per the old system
   --> OK handle ticket types enums (eg on peak, off peak) 
   --> OK refactor to add basket page [tickets list and add new ticket]
       --> OK adapt view_basket page  
       --> OK direct to checkout page (which will include payment details and person details) 
   --> OK implement place order (add to basket)
   --> OK confirm flow is final

  --------------------------------------
  NEXT JOBS:
   --> view basket page: 
       --> 1st form: 
           --> OK resolve passenger type and ticket type translation issues
           --> add ticket travel date, num units, [auto: open (and close it before completing purchase)],
       
       
       
       --> 2nd form: display a list of tickets in a table with selection and remove options 
                     https://stackoverflow.com/questions/36500731/how-to-bind-an-object-list-with-thymeleaf
       
   --> checkout page: 
       --> 1st form: add payment html components for a new payment method
       --> 2nd form: display list of existing payment types 
   --> save to database
   --> add transaction management 
   --> add poc spring form validation
   --> add poc controller test and all unit test methods    
   --> investigate ddl issue that seems to have started around Wednesday mid-pm (added old rp tables)       
   --> BasketController & maybe LoginController must get the current locale dynamically
   --> dynamic locale retrieval in enums
       
  --------------------------------------
  POST MAIN FLOW:

   --> complete spring form validation
   --> complete unit tests
   --> give user option to change the locale
   --> full testing       
   --> trim automatic spring boot column sizes 
   --> consider Blob to store RouteQuery.routeInfo
 
  --------------------------------------
 COMPLETE CORE FUNCTIONALITY
 
   --> fill in the gaps of this basic journey / polish functionality 
   --> add registration journey
   --> add admin functionality and journey
   --> server side validation
   --> javadocs

--------------------------------------   
MAJOR EXTENSIONS   
      
   --> spring security   
   --> add unit test shells including for controller
   --> update all the prop files for all langs
   --> auditing
   --> allow for oracle as well as mysql + sqlserver, adapt with dialects         
   --> more soffisticated HTML, CSS and js - redesign frontend
   --> jasper reports
   --> liquibase
   --> archiving
   --> upgrade to spring boot 3.0           
  
 -------------------------------------- 
  
  
  Error creating bean with name 'entityManagerFactory' defined in class path resource 
  [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed
  
  
  select user0_.id as id1_13_, user0_.active as active2_13_, user0_.email as email3_13_, user0_.last_name as last_nam4_13_, user0_.password as password5_13_, 
  user0_.name as name6_13_ from user user0_ 
  where user0_.name='user3'
  
  
  
  
  
  
  
  
  
  
  
  
  
  